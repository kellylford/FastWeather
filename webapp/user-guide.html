<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Guide - FastWeather</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .guide-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        
        .guide-header {
            margin-bottom: 2rem;
        }
        
        .guide-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .guide-header p {
            font-size: 1.125rem;
            color: var(--text-secondary);
        }
        
        .guide-section {
            margin-bottom: 2.5rem;
            padding: 1.5rem;
            background-color: var(--secondary-bg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color, #0066cc);
        }
        
        .guide-section h2 {
            font-size: 1.75rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        .guide-section h3 {
            font-size: 1.25rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            font-weight: 600;
        }
        
        .guide-section p {
            margin-bottom: 0.75rem;
            line-height: 1.6;
        }
        
        .guide-section ul {
            margin: 0.5rem 0 1rem 1.5rem;
            line-height: 1.8;
        }
        
        .guide-section li {
            margin-bottom: 0.5rem;
        }
        
        .guide-section strong {
            color: var(--primary-color, #0066cc);
            font-weight: 600;
        }
        
        .note-box {
            background-color: var(--card-bg);
            border: 2px solid var(--primary-color, #0066cc);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .note-box p {
            margin: 0;
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 1.5rem;
            color: var(--primary-color, #0066cc);
            text-decoration: none;
            font-weight: 500;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        kbd {
            background-color: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 2px 6px;
            font-family: monospace;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="guide-container" role="main">
        <a href="index.html" class="back-link" aria-label="Return to FastWeather">‚Üê Back to FastWeather</a>
        
        <header class="guide-header">
            <h1>FastWeather User Guide</h1>
            <p>Your accessible, feature-rich weather companion for the web</p>
        </header>
        
        <!-- Getting Started -->
        <div class="guide-section">
            <h2 id="getting-started">Getting Started</h2>
            <p>FastWeather makes it easy to track weather in multiple cities:</p>
            <ul>
                <li><strong>Add a city:</strong> Enter a city name or ZIP code in the search field and activate "Add City"</li>
                <li><strong>Use your location:</strong> Activate "Use My Current Location" to automatically add your current location
                    <ul>
                        <li>Your browser will ask for permission the first time</li>
                        <li>Location data never leaves your browser - it's only used to find the nearest city</li>
                        <li>Requires HTTPS or localhost for security</li>
                    </ul>
                </li>
                <li><strong>Browse cities:</strong> Select "Browse Cities by State/Country" to explore pre-loaded locations</li>
                <li><strong>View weather:</strong> Your cities will display current conditions automatically</li>
                <li><strong>Refresh data:</strong> Activate the refresh button (üîÑ) next to any city, or press <kbd>F5</kbd></li>
            </ul>
        </div>
        
        <!-- View Modes -->
        <div class="guide-section">
            <h2 id="view-modes">View Modes</h2>
            <p>FastWeather offers three ways to view your cities, each optimized for different use cases:</p>
            
            <h3>Table View</h3>
            <p>A traditional table with rows and columns, ideal for comparing data across cities at a glance.</p>
            <ul>
                <li>All weather data in organized columns</li>
                <li>Works well with screen readers in default reading modes such as virtual cursor (JAWS), Browse (NVDA) and Scan (Narrator) mode</li>
                <li>Select column headers to understand data organization</li>
            </ul>
            
            <h3>Flat View</h3>
            <p>Large cards with prominent weather information, great for touchscreens and visual scanning.</p>
            <ul>
                <li>Each city in a separate card</li>
                <li>Large, easy-to-read temperatures</li>
                <li>Action buttons clearly visible on each card</li>
            </ul>
            
            <h3>List View</h3>
            <div class="note-box">
                <p><strong>Screen Reader Users:</strong> List View is specifically designed for screen reader users who navigate with a <strong>virtual cursor turned OFF</strong> (JAWS Scan Mode OFF, NVDA Browse Mode OFF, Narrator Scan Mode OFF). This provides the most efficient navigation experience using arrow keys.</p>
            </div>
            <p>A streamlined list format optimized for keyboard and screen reader navigation:</p>
            <ul>
                <li><strong>Arrow keys:</strong> Navigate up/down through cities</li>
                <li><strong>Home/End:</strong> Jump to first/last city</li>
                <li><strong>Enter:</strong> View full weather details for selected city</li>
                <li><strong>Condensed mode:</strong> Shows just the data (72¬∞F, Clear, 45%)</li>
                <li><strong>Detailed mode:</strong> Shows labels with data (Temperature: 72¬∞F, Conditions: Clear, Humidity: 45%)</li>
            </ul>
            <p>Screen readers announce each city as a single concatenated string, making navigation extremely fast and efficient.</p>
        </div>
        
        <!-- City Management -->
        <div class="guide-section">
            <h2 id="city-management">Managing Your Cities</h2>
            
            <h3>Adding Cities</h3>
            <ul>
                <li><strong>Search by name:</strong> Type a city name (e.g., "Portland") - you may see multiple matches</li>
                <li><strong>Search by ZIP:</strong> Enter a U.S. ZIP code for precise location</li>
                <li><strong>Use current location:</strong> The "Use My Current Location" button detects your location automatically
                    <ul>
                        <li>Click to grant permission when prompted by your browser</li>
                        <li>Works best when connected to WiFi or GPS-enabled device</li>
                        <li>May return a nearby city, county, or parish depending on your location</li>
                        <li>If the location is already in your list, you'll be notified</li>
                    </ul>
                </li>
                <li><strong>Browse by location:</strong> Navigate through U.S. states or international countries to find cities</li>
            </ul>
            
            <h3>Removing Cities</h3>
            <ul>
                <li>Activate the "Remove" button (üóëÔ∏è icon) next to the city in Table or Flat view</li>
                <li>In List view, select the city and activate the "Remove" button below the list</li>
                <li>Keyboard shortcut: Select a city and press <kbd>Delete</kbd></li>
            </ul>
            
            <h3>Reordering Cities</h3>
            <ul>
                <li>Use ‚Üë (up) and ‚Üì (down) buttons to move cities in your preferred order</li>
                <li>Your order is saved automatically</li>
            </ul>
        </div>
        
        <!-- Features -->
        <div class="guide-section">
            <h2 id="features">Weather Features</h2>
            
            <h3>Full Weather Details</h3>
            <p>Select any city name to see comprehensive weather information:</p>
            <ul>
                <li><strong>Current conditions:</strong> Temperature, feels-like, humidity, wind, pressure, visibility</li>
                <li><strong>Hourly forecast:</strong> Next 24 hours with temperature and precipitation</li>
                <li><strong>Daily forecast:</strong> 16-day outlook with high/low temperatures</li>
                <li><strong>Sun times:</strong> Sunrise and sunset for each day</li>
            </ul>
            
            <h3>Historical Weather</h3>
            <p>Explore weather from the past to identify patterns and trends:</p>
            <ul>
                <li><strong>20-year view:</strong> See the same date (e.g., January 28) going back 20 years</li>
                <li><strong>Navigate years:</strong> Select "Previous 20 Years" or "Next 20 Years" to shift the time window</li>
                <li><strong>View modes:</strong> Historical data uses the same view mode as your main page (Table/Flat/List)</li>
            </ul>
            
            <h3>Expected Precipitation</h3>
            <p>See rainfall and snowfall forecasts for the next 2 hours:</p>
            <ul>
                <li>15-minute interval precipitation amounts</li>
                <li>Visual timeline showing when to expect rain or snow</li>
                <li>Data at intervals: Now, +15m, +30m, +45m, +60m, +90m, +120m</li>
            </ul>
            
            <h3>Weather Around Me</h3>
            <p>Understand regional weather patterns by viewing conditions in cities around your selected location:</p>
            <ul>
                <li><strong>8 directions:</strong> North, Northeast, East, Southeast, South, Southwest, West, Northwest</li>
                <li><strong>City names and distances:</strong> See actual cities and how far away they are</li>
                <li><strong>Current conditions:</strong> Temperature and weather for each direction</li>
                <li><strong>Adjustable radius:</strong> Choose 50-250 miles to see nearby or distant locations</li>
            </ul>
            <div class="note-box">
                <p><strong>Note:</strong> The first time you open Weather Around Me for a city, it may take 8-10 seconds to load as it looks up city names for each direction. This data is cached for faster access next time.</p>
            </div>
        </div>
        
        <!-- Configuration -->
        <div class="guide-section">
            <h2 id="configuration">Configuration Options</h2>
            <p>Customize FastWeather to match your preferences using the "Configure" button (‚öôÔ∏è icon):</p>
            
            <h3>Units</h3>
            <ul>
                <li><strong>Temperature:</strong> Fahrenheit (¬∞F) or Celsius (¬∞C)</li>
                <li><strong>Wind Speed:</strong> Miles per hour (mph) or Kilometers per hour (km/h)</li>
                <li><strong>Precipitation:</strong> Inches (in) or Millimeters (mm)</li>
            </ul>
            
            <h3>Display Settings</h3>
            <ul>
                <li><strong>View Mode:</strong> Choose Table, Flat, or List view</li>
                <li><strong>List Style:</strong> Condensed (data only) or Detailed (labels + data)</li>
                <li><strong>City List Fields:</strong> Show/hide specific weather data (temperature, humidity, wind, etc.)</li>
                <li><strong>Field Order:</strong> Rearrange columns/data to match your priorities</li>
            </ul>
            
            <h3>Advanced Options</h3>
            <ul>
                <li><strong>Import/Export:</strong> Save your city list and settings as a file, or load from a backup</li>
                <li><strong>Reset:</strong> Return to default settings if needed</li>
            </ul>
        </div>
        
        <!-- Keyboard Navigation -->
        <div class="guide-section">
            <h2 id="keyboard">Keyboard Navigation</h2>
            <p>FastWeather is fully keyboard accessible:</p>
            
            <h3>General</h3>
            <ul>
                <li><kbd>Tab</kbd> / <kbd>Shift+Tab</kbd> - Move between controls</li>
                <li><kbd>Enter</kbd> / <kbd>Space</kbd> - Activate buttons and links</li>
                <li><kbd>Esc</kbd> - Close dialogs and return to main view</li>
                <li><kbd>Ctrl+R</kbd> - Refresh all cities (alternative to "Refresh All" button)</li>
                <li><kbd>Alt+V</kbd> - Open view mode menu</li>
            </ul>
            
            <h3>List View (Virtual Cursor OFF)</h3>
            <ul>
                <li><kbd>‚Üë</kbd> / <kbd>‚Üì</kbd> - Navigate through cities</li>
                <li><kbd>Home</kbd> - Jump to first city</li>
                <li><kbd>End</kbd> - Jump to last city</li>
                <li><kbd>Enter</kbd> or <kbd>Space</kbd> - View full weather details for selected city</li>
            </ul>
            
            <h3>Dialogs and Modals</h3>
            <ul>
                <li><kbd>Esc</kbd> - Close current dialog</li>
                <li><kbd>Tab</kbd> - Move between controls within dialog</li>
                <li>Focus automatically moves to the first interactive element when opening</li>
            </ul>
        </div>
        
        <!-- Screen Reader Usage -->
        <div class="guide-section">
            <h2 id="screen-readers">Screen Reader Support</h2>
            <p>FastWeather is designed with screen reader users in mind:</p>
            
            <h3>JAWS</h3>
            <ul>
                <li><strong>Table/Flat View:</strong> Use standard virtual cursor navigation</li>
                <li><strong>List View:</strong> Turn ON Forms Mode (press NumPad Plus to toggle) for arrow key navigation</li>
                <li>ARIA live regions announce weather updates automatically</li>
            </ul>
            
            <h3>NVDA</h3>
            <ul>
                <li><strong>Table/Flat View:</strong> Use Browse Mode as normal</li>
                <li><strong>List View:</strong> Turn OFF Browse Mode (NVDA+Space) for arrow key navigation</li>
                <li>Focus mode provides efficient list navigation</li>
            </ul>
            
            <h3>Narrator</h3>
            <ul>
                <li><strong>Table/Flat View:</strong> Use Scan Mode for standard navigation</li>
                <li><strong>List View:</strong> Turn OFF Scan Mode (Caps Lock+Space) for arrow key navigation</li>
                <li>All weather data includes descriptive labels</li>
            </ul>
            
            <div class="note-box">
                <p><strong>Why List View is Different:</strong> When your screen reader's virtual cursor/browse mode is OFF, you can use arrow keys to quickly move through cities and hear just the essential weather data. This is much faster than tabbing through buttons and links in Table or Flat view. Each city is announced as a single string, perfect for scanning your list.</p>
            </div>
        </div>
        
        <!-- Weather Data -->
        <div class="guide-section">
            <h2 id="data-sources">Weather Data Sources</h2>
            <p>FastWeather uses reliable, free, and open data sources:</p>
            <ul>
                <li><strong>Open-Meteo:</strong> Current conditions and forecasts (no API key required)</li>
                <li><strong>Open-Meteo Historical Archive:</strong> Historical weather data for pattern analysis</li>
                <li><strong>OpenStreetMap Nominatim:</strong> City geocoding and reverse geocoding</li>
            </ul>
            <p>No personal data is collected. No tracking. No API keys needed. Your city list is stored locally in your browser.</p>
        </div>
        
        <!-- Tips -->
        <div class="guide-section">
            <h2 id="tips">Tips & Tricks</h2>
            <ul>
                <li><strong>Fast city switching:</strong> In List View, use arrow keys to quickly hear weather for each city</li>
                <li><strong>Compare weather:</strong> Table View makes it easy to compare data across multiple cities</li>
                <li><strong>Mobile friendly:</strong> Flat View works great on touchscreens</li>
                <li><strong>Offline support:</strong> As a Progressive Web App (PWA), FastWeather can work offline after first load</li>
                <li><strong>Install as app:</strong> Use your browser's "Install" or "Add to Home Screen" option</li>
                <li><strong>Share locations:</strong> Export your city list to share with others or backup</li>
                <li><strong>Historical patterns:</strong> Use Historical Weather to see if current conditions are unusual</li>
                <li><strong>Trip planning:</strong> Use Weather Around Me to check conditions along your route</li>
            </ul>
        </div>
        
        <!-- Footer -->
        <footer class="guide-section" style="border-left: none; text-align: center;">
            <h2>Need More Help?</h2>
            <p>FastWeather is designed to be intuitive and accessible. Explore the interface and discover features as you use them. Most actions are available through standard web navigation and keyboard shortcuts.</p>
            <p style="margin-top: 2rem; color: var(--text-secondary);">
                <a href="index.html" style="color: var(--primary-color, #0066cc);">Return to FastWeather</a> | 
                <a href="https://github.com/kellylford/FastWeather" target="_blank" rel="noopener noreferrer" style="color: var(--primary-color, #0066cc);">GitHub</a> | 
                Version 1.1
            </p>
        </footer>
    </div>
</body>
</html>
